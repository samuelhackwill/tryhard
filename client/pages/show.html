<template name="show">
  <div class="backgroundContainer flex w-full h-full absolute top-0 left-0">
    {{>background}}
    <!-- {{>folderVestiaire}} {{>folderAdmin}} {{>folderTrees x=1000 y=100}}Â {{>plusminus}} {{#if isItActe2s1}}  -->
    <!-- {{/if}} -->
    {{>feed}}
    {{>btnDashboard}}
  </div>

  <div class="milieuContainer">
    <div id="carousel" class="left-1/2 top-1/2 absolute  -translate-x-1/2 -translate-y-1/2 rounded-full z-10"></div>
    <div id="pointersContainer" class="transition-opacity {{ arePointersHidden }}">
      <!-- <span>debug : </span> -->
      {{#each allPointers getAdmin=false}}
        <!-- {{this.id}} <span class="text-green-400">{{ this.chosen }} </span> -->
      <div
        class="pointer transition-opacity"
        style="position:absolute; transform:translate({{this.initializationCoords.x}}px, {{this.initializationCoords.y}}px); height:{{
          pointerHeight
        }}rem; width:{{
          pointerWidth
        }}rem; {{#if isChosen}}opacity:1; z-index:10;{{else}}opacity:0.1;z-index:-10{{/if}}"
        pointer-id="{{ this.id }}"
        id="{{ this.id }}"
        data-x="0"
        data-y="0"
      >
        {{#if pointerType "isCursor"}}
        <svg
          version="1.1"
          id="pointerSvg"
          xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          x="0px"
          y="0px"
          viewBox="8 4.3 13 20"
          enable-background="new 0 0 28 28"
          xml:space="preserve"
          style="width: 100%; height: 100%; filter: drop-shadow(0px 3px 3px rgba(0, 0, 0, 0.4))"
        >
          <polygon
            class="transition-all"
            fill="{{ this.outlineColor }}"
            points="8.2,20.9 8.2,4.9 19.8,16.5 13,16.5 12.6,16.6 "
          />
          <polygon
            class="transition-all"
            fill="{{ this.outlineColor }}"
            points="17.3,21.6 13.7,23.1 9,12 12.7,10.5 "
          />
          <rect
            class="transition-all"
            fill="{{ this.bgColor }}"
            x="12.5"
            y="13.6"
            transform="matrix(0.9221 -0.3871 0.3871 0.9221 -5.7605 6.5909)"
            width="2"
            height="8"
          />
          <polygon
            class="transition-all"
            fill="{{ this.bgColor }}"
            points="9.2,7.3 9.2,18.5 12.2,15.6 12.6,15.5 17.4,15.5 "
          />
        </svg>
        {{/if}}

        {{#if pointerType "isPointingHand"}}
        <svg
          version="1.1"
          id="pointerSvg"
          xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          x="0px"
          y="0px"
          viewBox="0 0 28 22"
          style="
            enable-background: new 0 0 28 28;
            transform: translate(-28%, -30%);
            height: 120%;
            filter: drop-shadow(0px 3px 3px rgba(0, 0, 0, 0.4));
          "
          xml:space="preserve"
        >
          <style type="text/css">
            .st0 {
              fill: #ffffff;
            }
            .st1 {
              fill: none;
              stroke: #000000;
              stroke-width: 0.75;
              stroke-linecap: round;
              stroke-linejoin: round;
            }
            .st2 {
              fill: none;
              stroke: #000000;
              stroke-width: 0.75;
              stroke-linecap: round;
            }
          </style>
          <g>
            <path
              class="st0"
              d="M8.4,18.9c-0.3-0.4-0.6-1.1-1.2-2C6.9,16.4,6,15.4,5.7,15c-0.2-0.4-0.2-0.6-0.1-1c0.1-0.6,0.7-1.1,1.4-1.1
         c0.5,0,1,0.4,1.4,0.7c0.2,0.2,0.5,0.6,0.7,0.8c0.2,0.2,0.2,0.3,0.4,0.5c0.2,0.3,0.3,0.5,0.2,0.1c-0.1-0.5-0.2-1.3-0.4-2.1
         c-0.1-0.6-0.2-0.7-0.3-1.1c-0.1-0.5-0.2-0.8-0.3-1.3C8.6,10.2,8.5,9.4,8.4,9C8.3,8.5,8.3,7.6,8.7,7.2C9,6.9,9.6,6.8,10,7
         c0.5,0.3,0.8,1,0.9,1.3c0.2,0.5,0.4,1.2,0.5,2c0.2,1,0.5,2.5,0.5,2.8c0-0.4-0.1-1.1,0-1.5c0.1-0.3,0.3-0.7,0.7-0.8
         c0.3-0.1,0.6-0.1,0.9-0.1c0.3,0.1,0.6,0.3,0.8,0.5c0.4,0.6,0.4,1.9,0.4,1.8c0.1-0.4,0.1-1.2,0.3-1.6c0.1-0.2,0.5-0.4,0.7-0.5
         c0.3-0.1,0.7-0.1,1,0c0.2,0,0.6,0.3,0.7,0.5c0.2,0.3,0.3,1.3,0.4,1.7c0,0.1,0.1-0.4,0.3-0.7c0.4-0.6,1.8-0.8,1.9,0.6
         c0,0.7,0,0.6,0,1.1c0,0.5,0,0.8,0,1.2s-0.1,1.3-0.2,1.7c-0.1,0.3-0.4,1-0.7,1.4c0,0-1.1,1.2-1.2,1.8c-0.1,0.6-0.1,0.6-0.1,1
         s0.1,0.9,0.1,0.9s-0.8,0.1-1.2,0c-0.4-0.1-0.9-0.8-1-1.1c-0.2-0.3-0.5-0.3-0.7,0c-0.2,0.4-0.7,1.1-1.1,1.1c-0.7,0.1-2.1,0-3.1,0
         c0,0,0.2-1-0.2-1.4c-0.3-0.3-0.8-0.8-1.1-1.1L8.4,18.9z"
            />
            <path
              class="st1"
              d="M8.4,18.9c-0.3-0.4-0.6-1.1-1.2-2C6.9,16.4,6,15.4,5.7,15c-0.2-0.4-0.2-0.6-0.1-1c0.1-0.6,0.7-1.1,1.4-1.1
         c0.5,0,1,0.4,1.4,0.7c0.2,0.2,0.5,0.6,0.7,0.8c0.2,0.2,0.2,0.3,0.4,0.5c0.2,0.3,0.3,0.5,0.2,0.1c-0.1-0.5-0.2-1.3-0.4-2.1
         c-0.1-0.6-0.2-0.7-0.3-1.1c-0.1-0.5-0.2-0.8-0.3-1.3C8.6,10.2,8.5,9.4,8.4,9C8.3,8.5,8.3,7.6,8.7,7.2C9,6.9,9.6,6.8,10,7
         c0.5,0.3,0.8,1,0.9,1.3c0.2,0.5,0.4,1.2,0.5,2c0.2,1,0.5,2.5,0.5,2.8c0-0.4-0.1-1.1,0-1.5c0.1-0.3,0.3-0.7,0.7-0.8
         c0.3-0.1,0.6-0.1,0.9-0.1c0.3,0.1,0.6,0.3,0.8,0.5c0.4,0.6,0.4,1.9,0.4,1.8c0.1-0.4,0.1-1.2,0.3-1.6c0.1-0.2,0.5-0.4,0.7-0.5
         c0.3-0.1,0.7-0.1,1,0c0.2,0,0.6,0.3,0.7,0.5c0.2,0.3,0.3,1.3,0.4,1.7c0,0.1,0.1-0.4,0.3-0.7c0.4-0.6,1.8-0.8,1.9,0.6
         c0,0.7,0,0.6,0,1.1c0,0.5,0,0.8,0,1.2s-0.1,1.3-0.2,1.7c-0.1,0.3-0.4,1-0.7,1.4c0,0-1.1,1.2-1.2,1.8c-0.1,0.6-0.1,0.6-0.1,1
         s0.1,0.9,0.1,0.9s-0.8,0.1-1.2,0c-0.4-0.1-0.9-0.8-1-1.1c-0.2-0.3-0.5-0.3-0.7,0c-0.2,0.4-0.7,1.1-1.1,1.1c-0.7,0.1-2.1,0-3.1,0
         c0,0,0.2-1-0.2-1.4c-0.3-0.3-0.8-0.8-1.1-1.1L8.4,18.9z"
            />
            <line class="st2" x1="16.7" y1="19.2" x2="16.7" y2="15.8" />
            <line class="st2" x1="14.7" y1="19.2" x2="14.6" y2="15.8" />
            <line class="st2" x1="12.7" y1="15.8" x2="12.7" y2="19.2" />
          </g>
        </svg>
        {{/if}}
<!-- 
        {{#if pointerType "isOpenHand"}}
        <div class="bg-green-500">prout</div>
        {{/if}} -->

        {{#if hasNick}}
          <div
            class="ml-4 p-1 bg-black text-white rounded-lg absolute w-max transition-opacity text-xl hud {{
              areNamesHidden
            }}"
          >
          <!-- {{#if isItCaptchaTime}} -->
            <!-- {{#if isChosen}} -->
              {{ this.order }}
            <!-- {{/if}} -->
          <!-- {{else}} -->
          <span id="money" class="relative top-1 hidden inline-block transition-all ease-out duration-200 opacity-0 money text-green-400"> 0 </span>
          <!-- {{/if}} -->
            <!-- {{ this.nick }} -->
          </div>

          <!-- <span
            class="ml-6 -mt-9 b text-white rounded-lg absolute w-max transition-opacity text-xl {{
              areClocksHidden
            }}"
          >
            {{ > miniclock }}
          </span> -->

        {{/if}}

        <!-- {{#if tree}}
        <span class="tree" style="position: absolute; left: -25px; top: -50px; font-size: 250%">{{tree}}</span>
        {{/if}}
        <span class="accessory" style="position: absolute; left: 4px; top: 4px; font-size: 250%">{{accessory}}</span>
      </div>
      {{/each}} {{#each allPlantedTrees }}
      <div class="pointer-events-none" style="position: absolute; left: {{coords.x}}px; top: {{coords.y}}px;">
        <span class="tree" style="position: absolute; left: -25px; top: -50px; font-size: 250%">{{tree}}</span> -->
      </div>
      {{/each}}
    </div>
  </div>

  <!-- below is only for admin pointer! -->
  <div class="foregroundContainer">
    <!-- here i'm rendering the windowAdmin with current show state because the admin window needs the context of his parent! hhu -->
    <!-- {{#each showState}}
    {{>windowAdmin currentState=showState}}
    {{/each}} -->
    {{#each allPointers
    getAdmin=true}}
    <div
      class="bg-cursor bg-contain pointer w-[30px] h-[50px] bg-no-repeat"
      style="position:absolute; left:{{ this.coords.x }}px; top:{{ this.coords.y }}px; opacity:{{
        this.opacity
      }}"
      pointer-id="{{ this.id }}"
      id="{{ this.id }}"
    >
      <span class="pl-8">{{ this.id }}</span>
      <!-- {{#if tree}}
      <span class="tree" style="position: absolute; left: -25px; top: -50px; font-size: 250%">{{
        tree
      }}</span>
      {{/if}}
      <span class="accessory" style="position: absolute; left: 10px; top: 10px; font-size: 250%">{{
        this.accessory
      }}</span> -->
    </div>
    {{/each}}
  </div>
</template>
