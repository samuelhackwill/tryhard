<template name="pasUnRobotImageInfinite">
  <div class="fixed left-1/2 top-1/2 w-[90vw] max-h-[90vh] -translate-x-1/2 -translate-y-1/2 shadow-lg bg-white p-4 rounded-sm transition-opacity {{#if isRendered}}opacity-100{{else}}opacity-0 pointer-events-none{{/if}}">
    <p class="bg-blue-500 p-4 text-white text-3xl mb-4 h-[140px]">
        <span class="block max-w-[66%]">{{captchaPrompt}}</span>
        </p>

    <div class="grid gap-2 overflow-hidden"
         style="grid-template-columns: repeat(auto-fit, minmax(80px, 1fr)); grid-auto-rows: 80px;">
      {{#each imageKeys}}
        {{#with getImage this}}
          <div id="captcha-image-{{index}}"
               class="relative cursor-pointer captcha-image group transition-transform duration-200 ease-out {{#if isSelected}}scale-90{{/if}}"
               data-index="{{index}}">
            <div class="w-full h-full overflow-hidden">
              <img src="{{src}}"
                   class="w-full h-full object-cover rounded border transition-opacity duration-300 {{#if isSelected}}border-blue-500{{else}}border-gray-300{{/if}}" />
              {{#if isSelected}}
                <div class="absolute inset-0 flex items-center justify-center bg-blue-500 bg-opacity-40">
                  <svg class="w-10 h-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                  </svg>
                </div>
              {{/if}}
            </div>
          </div>
        {{/with}}
      {{/each}}
    </div>
  </div>
</template>
